local CyberUI = {}
CyberUI.__index = CyberUI

-- Services
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()

-- Main Library
function CyberUI:CreateWindow(config)
	local Window = {
		Tabs = {},
		CurrentTab = nil,
		Dragging = false,
		Resizing = false,
		Visible = true,
		ToggleKey = config.ToggleKey or Enum.KeyCode.RightShift
	}
	
	-- Create ScreenGui
	local ScreenGui = Instance.new("ScreenGui")
	ScreenGui.Name = "CyberUI_" .. tostring(math.random(1000, 9999))
	ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	ScreenGui.ResetOnSpawn = false
	ScreenGui.Parent = game.CoreGui
	
	-- Blur Effect
	local Blur = Instance.new("BlurEffect")
	Blur.Name = "CyberBlur"
	Blur.Size = 0
	Blur.Parent = game.Lighting
	
	-- Motion Blur
	local MotionBlur = Instance.new("BlurEffect")
	MotionBlur.Name = "CyberMotionBlur"
	MotionBlur.Size = 0
	MotionBlur.Parent = game.Lighting
	
	-- Main Frame
	local MainFrame = Instance.new("Frame")
	MainFrame.Name = "MainFrame"
	MainFrame.Size = UDim2.new(0, 550, 0, 450)
	MainFrame.Position = UDim2.new(0.5, -275, 0.5, -225)
	MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
	MainFrame.BackgroundTransparency = config.Transparency or 0.1
	MainFrame.BorderSizePixel = 0
	MainFrame.ClipsDescendants = true
	MainFrame.Parent = ScreenGui
	
	-- Background Image (if provided)
	if config.BackgroundImage then
		local BgImage = Instance.new("ImageLabel")
		BgImage.Name = "BackgroundImage"
		BgImage.Size = UDim2.new(1, 0, 1, 0)
		BgImage.Position = UDim2.new(0, 0, 0, 0)
		BgImage.BackgroundTransparency = 1
		BgImage.Image = config.BackgroundImage
		BgImage.ImageTransparency = config.BackgroundTransparency or 0.3
		BgImage.ScaleType = Enum.ScaleType.Crop
		BgImage.ZIndex = 0
		BgImage.Parent = MainFrame
		
		-- Add blur to background image
		local BgBlur = Instance.new("ImageLabel")
		BgBlur.Size = UDim2.new(1, 0, 1, 0)
		BgBlur.BackgroundTransparency = 1
		BgBlur.Image = config.BackgroundImage
		BgBlur.ImageTransparency = 0.7
		BgBlur.ScaleType = Enum.ScaleType.Crop
		BgBlur.ZIndex = 0
		BgBlur.Parent = MainFrame
		
		-- Overlay for better readability
		local Overlay = Instance.new("Frame")
		Overlay.Size = UDim2.new(1, 0, 1, 0)
		Overlay.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		Overlay.BackgroundTransparency = 0.6
		Overlay.BorderSizePixel = 0
		Overlay.ZIndex = 1
		Overlay.Parent = MainFrame
	end
	
	-- UI Corner
	local Corner = Instance.new("UICorner")
	Corner.CornerRadius = UDim.new(0, 12)
	Corner.Parent = MainFrame
	
	-- Border Glow with animation
	local BorderGlow = Instance.new("UIStroke")
	BorderGlow.Color = config.AccentColor or Color3.fromRGB(0, 255, 255)
	BorderGlow.Thickness = 2
	BorderGlow.Transparency = 0.3
	BorderGlow.Parent = MainFrame
	
	-- Animate border glow
	spawn(function()
		while MainFrame.Parent do
			TweenService:Create(BorderGlow, TweenInfo.new(2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {
				Transparency = 0.7
			}):Play()
			wait()
		end
	end)
	
	-- Shadow with glow
	local Shadow = Instance.new("ImageLabel")
	Shadow.Name = "Shadow"
	Shadow.BackgroundTransparency = 1
	Shadow.Position = UDim2.new(0, -20, 0, -20)
	Shadow.Size = UDim2.new(1, 40, 1, 40)
	Shadow.ZIndex = 0
	Shadow.Image = "rbxasset://textures/ui/GuiImagePlaceholder.png"
	Shadow.ImageColor3 = config.AccentColor or Color3.fromRGB(0, 255, 255)
	Shadow.ImageTransparency = 0.8
	Shadow.Parent = MainFrame
	
	-- Header
	local Header = Instance.new("Frame")
	Header.Name = "Header"
	Header.Size = UDim2.new(1, 0, 0, 50)
	Header.BackgroundColor3 = Color3.fromRGB(20, 20, 35)
	Header.BackgroundTransparency = 0.2
	Header.BorderSizePixel = 0
	Header.ZIndex = 2
	Header.Parent = MainFrame
	
	local HeaderCorner = Instance.new("UICorner")
	HeaderCorner.CornerRadius = UDim.new(0, 12)
	HeaderCorner.Parent = Header
	
	-- Glass effect for header
	local HeaderGlass = Instance.new("Frame")
	HeaderGlass.Size = UDim2.new(1, 0, 1, 0)
	HeaderGlass.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	HeaderGlass.BackgroundTransparency = 0.95
	HeaderGlass.BorderSizePixel = 0
	HeaderGlass.ZIndex = 2
	HeaderGlass.Parent = Header
	
	local HeaderGlassCorner = Instance.new("UICorner")
	HeaderGlassCorner.CornerRadius = UDim.new(0, 12)
	HeaderGlassCorner.Parent = HeaderGlass
	
	-- Title
	local Title = Instance.new("TextLabel")
	Title.Name = "Title"
	Title.Size = UDim2.new(1, -120, 0, 25)
	Title.Position = UDim2.new(0, 15, 0, 5)
	Title.BackgroundTransparency = 1
	Title.Text = config.Title or "CyberUI"
	Title.TextColor3 = config.AccentColor or Color3.fromRGB(0, 255, 255)
	Title.TextSize = 18
	Title.TextXAlignment = Enum.TextXAlignment.Left
	Title.Font = Enum.Font.GothamBold
	Title.ZIndex = 3
	Title.TextStrokeTransparency = 0.8
	Title.Parent = Header
	
	-- Subtitle
	local Subtitle = Instance.new("TextLabel")
	Subtitle.Name = "Subtitle"
	Subtitle.Size = UDim2.new(1, -120, 0, 15)
	Subtitle.Position = UDim2.new(0, 15, 0, 30)
	Subtitle.BackgroundTransparency = 1
	Subtitle.Text = config.Subtitle or ""
	Subtitle.TextColor3 = Color3.fromRGB(150, 200, 200)
	Subtitle.TextSize = 12
	Subtitle.TextXAlignment = Enum.TextXAlignment.Left
	Subtitle.Font = Enum.Font.Gotham
	Subtitle.TextTransparency = 0.3
	Subtitle.ZIndex = 3
	Subtitle.Parent = Header
	
	-- Close Button
	if config.Closable ~= false then
		local CloseButton = Instance.new("TextButton")
		CloseButton.Name = "CloseButton"
		CloseButton.Size = UDim2.new(0, 30, 0, 30)
		CloseButton.Position = UDim2.new(1, -40, 0, 10)
		CloseButton.BackgroundColor3 = Color3.fromRGB(30, 30, 45)
		CloseButton.BackgroundTransparency = 0.3
		CloseButton.Text = "X"
		CloseButton.TextColor3 = Color3.fromRGB(255, 100, 100)
		CloseButton.TextSize = 16
		CloseButton.Font = Enum.Font.GothamBold
		CloseButton.ZIndex = 3
		CloseButton.Parent = Header
		
		local CloseCorner = Instance.new("UICorner")
		CloseCorner.CornerRadius = UDim.new(0, 6)
		CloseCorner.Parent = CloseButton
		
		CloseButton.MouseButton1Click:Connect(function()
			Blur:Destroy()
			MotionBlur:Destroy()
			ScreenGui:Destroy()
		end)
		
		CloseButton.MouseEnter:Connect(function()
			TweenService:Create(CloseButton, TweenInfo.new(0.2), {BackgroundTransparency = 0, BackgroundColor3 = Color3.fromRGB(255, 50, 50)}):Play()
		end)
		
		CloseButton.MouseLeave:Connect(function()
			TweenService:Create(CloseButton, TweenInfo.new(0.2), {BackgroundTransparency = 0.3, BackgroundColor3 = Color3.fromRGB(30, 30, 45)}):Play()
		end)
	end
	
	-- Resize Handle
	local ResizeHandle = Instance.new("TextButton")
	ResizeHandle.Name = "ResizeHandle"
	ResizeHandle.Size = UDim2.new(0, 20, 0, 20)
	ResizeHandle.Position = UDim2.new(1, -20, 1, -20)
	ResizeHandle.BackgroundColor3 = config.AccentColor or Color3.fromRGB(0, 255, 255)
	ResizeHandle.BackgroundTransparency = 0.5
	ResizeHandle.Text = "â‡²"
	ResizeHandle.TextColor3 = Color3.fromRGB(255, 255, 255)
	ResizeHandle.TextSize = 14
	ResizeHandle.Font = Enum.Font.GothamBold
	ResizeHandle.ZIndex = 10
	ResizeHandle.Parent = MainFrame
	
	local ResizeCorner = Instance.new("UICorner")
	ResizeCorner.CornerRadius = UDim.new(0, 4)
	ResizeCorner.Parent = ResizeHandle
	
	-- Tab Container
	local TabContainer = Instance.new("Frame")
	TabContainer.Name = "TabContainer"
	TabContainer.Size = UDim2.new(1, 0, 0, 35)
	TabContainer.Position = UDim2.new(0, 0, 0, 50)
	TabContainer.BackgroundColor3 = Color3.fromRGB(18, 18, 30)
	TabContainer.BackgroundTransparency = 0.3
	TabContainer.BorderSizePixel = 0
	TabContainer.ZIndex = 2
	TabContainer.Parent = MainFrame
	
	local TabLayout = Instance.new("UIListLayout")
	TabLayout.FillDirection = Enum.FillDirection.Horizontal
	TabLayout.Padding = UDim.new(0, 5)
	TabLayout.Parent = TabContainer
	
	local TabPadding = Instance.new("UIPadding")
	TabPadding.PaddingLeft = UDim.new(0, 10)
	TabPadding.PaddingTop = UDim.new(0, 5)
	TabPadding.Parent = TabContainer
	
	-- Content Container
	local ContentContainer = Instance.new("ScrollingFrame")
	ContentContainer.Name = "ContentContainer"
	ContentContainer.Size = UDim2.new(1, -10, 1, -95)
	ContentContainer.Position = UDim2.new(0, 5, 0, 90)
	ContentContainer.BackgroundTransparency = 1
	ContentContainer.BorderSizePixel = 0
	ContentContainer.ScrollBarThickness = 4
	ContentContainer.ScrollBarImageColor3 = config.AccentColor or Color3.fromRGB(0, 255, 255)
	ContentContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
	ContentContainer.ZIndex = 2
	ContentContainer.Parent = MainFrame
	
	local ContentLayout = Instance.new("UIListLayout")
	ContentLayout.Padding = UDim.new(0, 8)
	ContentLayout.Parent = ContentContainer
	
	ContentLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
		ContentContainer.CanvasSize = UDim2.new(0, 0, 0, ContentLayout.AbsoluteContentSize.Y + 10)
	end)
	
	-- Dragging functionality
	local dragToggle = nil
	local dragInput = nil
	local dragStart = nil
	local startPos = nil
	
	Header.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragToggle = true
			dragStart = input.Position
			startPos = MainFrame.Position
			
			-- Motion blur effect while dragging
			TweenService:Create(MotionBlur, TweenInfo.new(0.2), {Size = 10}):Play()
			
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragToggle = false
					TweenService:Create(MotionBlur, TweenInfo.new(0.3), {Size = 0}):Play()
				end
			end)
		end
	end)
	
	Header.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
			dragInput = input
		end
	end)
	
	UserInputService.InputChanged:Connect(function(input)
		if input == dragInput and dragToggle then
			local delta = input.Position - dragStart
			MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
		end
	end)
	
	-- Resizing functionality
	local resizing = false
	local resizeStart = nil
	local startSize = nil
	
	ResizeHandle.MouseButton1Down:Connect(function()
		resizing = true
		resizeStart = UserInputService:GetMouseLocation()
		startSize = MainFrame.Size
	end)
	
	UserInputService.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			resizing = false
		end
	end)
	
	RunService.RenderStepped:Connect(function()
		if resizing then
			local mousePos = UserInputService:GetMouseLocation()
			local delta = mousePos - resizeStart
			
			local newWidth = math.max(400, startSize.X.Offset + delta.X)
			local newHeight = math.max(300, startSize.Y.Offset + delta.Y)
			
			MainFrame.Size = UDim2.new(0, newWidth, 0, newHeight)
		end
	end)
	
	-- Toggle keybind
	UserInputService.InputBegan:Connect(function(input, gameProcessed)
		if not gameProcessed and input.KeyCode == Window.ToggleKey then
			Window.Visible = not Window.Visible
			
			if Window.Visible then
				MainFrame.Visible = true
				TweenService:Create(Blur, TweenInfo.new(0.3), {Size = config.BlurSize or 15}):Play()
				TweenService:Create(MainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back), {
					Size = MainFrame.Size,
					BackgroundTransparency = config.Transparency or 0.1
				}):Play()
			else
				TweenService:Create(Blur, TweenInfo.new(0.3), {Size = 0}):Play()
				TweenService:Create(MainFrame, TweenInfo.new(0.3), {
					BackgroundTransparency = 1
				}):Play()
				wait(0.3)
				MainFrame.Visible = false
			end
		end
	end)
	
	-- Initial blur
	if config.BlurSize then
		Blur.Size = config.BlurSize
	end
	
	-- Add Tab Function
	function Window:AddTab(name)
		local Tab = {
			Name = name,
			Elements = {}
		}
		
		-- Tab Button
		local TabButton = Instance.new("TextButton")
		TabButton.Name = name
		TabButton.Size = UDim2.new(0, 100, 0, 25)
		TabButton.BackgroundColor3 = Color3.fromRGB(25, 25, 40)
		TabButton.BackgroundTransparency = 0.3
		TabButton.Text = name
		TabButton.TextColor3 = Color3.fromRGB(100, 200, 200)
		TabButton.TextSize = 13
		TabButton.Font = Enum.Font.GothamSemibold
		TabButton.ZIndex = 3
		TabButton.Parent = TabContainer
		
		local TabCorner = Instance.new("UICorner")
		TabCorner.CornerRadius = UDim.new(0, 6)
		TabCorner.Parent = TabButton
		
		local TabStroke = Instance.new("UIStroke")
		TabStroke.Color = config.AccentColor or Color3.fromRGB(0, 255, 255)
		TabStroke.Transparency = 0.8
		TabStroke.Thickness = 1
		TabStroke.Parent = TabButton
		
		-- Select Tab
		local function SelectTab()
			for _, tab in pairs(Window.Tabs) do
				for _, element in pairs(tab.Elements) do
					element.Visible = false
				end
				TweenService:Create(tab.Button, TweenInfo.new(0.2), {
					BackgroundTransparency = 0.3,
					BackgroundColor3 = Color3.fromRGB(25, 25, 40)
				}):Play()
				TweenService:Create(tab.Button.TextLabel or tab.Button, TweenInfo.new(0.2), {
					TextColor3 = Color3.fromRGB(100, 200, 200)
				}):Play()
				tab.Button.UIStroke.Transparency = 0.8
			end
			
			for _, element in pairs(Tab.Elements) do
				element.Visible = true
			end
			
			TweenService:Create(TabButton, TweenInfo.new(0.2), {
				BackgroundTransparency = 0,
				BackgroundColor3 = config.AccentColor or Color3.fromRGB(0, 150, 150)
			}):Play()
			TweenService:Create(TabButton, TweenInfo.new(0.2), {
				TextColor3 = Color3.fromRGB(255, 255, 255)
			}):Play()
			TabStroke.Transparency = 0.3
			
			Window.CurrentTab = Tab
		end
		
		TabButton.MouseButton1Click:Connect(SelectTab)
		
		TabButton.MouseEnter:Connect(function()
			if Window.CurrentTab ~= Tab then
				TweenService:Create(TabButton, TweenInfo.new(0.2), {BackgroundTransparency = 0.1}):Play()
			end
		end)
		
		TabButton.MouseLeave:Connect(function()
			if Window.CurrentTab ~= Tab then
				TweenService:Create(TabButton, TweenInfo.new(0.2), {BackgroundTransparency = 0.3}):Play()
			end
		end)
		
		Tab.Button = TabButton
		table.insert(Window.Tabs, Tab)
		
		if #Window.Tabs == 1 then
			SelectTab()
		end
		
		-- Add Button
		function Tab:AddButton(config)
			local ButtonFrame = Instance.new("Frame")
			ButtonFrame.Size = UDim2.new(1, 0, 0, config.Description and 70 or 50)
			ButtonFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 35)
			ButtonFrame.BackgroundTransparency = 0.2
			ButtonFrame.BorderSizePixel = 0
			ButtonFrame.Visible = Window.CurrentTab == Tab
			ButtonFrame.ZIndex = 2
			ButtonFrame.Parent = ContentContainer
			
			local ButtonCorner = Instance.new("UICorner")
			ButtonCorner.CornerRadius = UDim.new(0, 8)
			ButtonCorner.Parent = ButtonFrame
			
			local ButtonStroke = Instance.new("UIStroke")
			ButtonStroke.Color = config.AccentColor or Color3.fromRGB(0, 255, 255)
			ButtonStroke.Transparency = 0.7
			ButtonStroke.Parent = ButtonFrame
			
			local Button = Instance.new("TextButton")
			Button.Size = UDim2.new(1, -20, 0, 30)
			Button.Position = UDim2.new(0, 10, 0, 10)
			Button.BackgroundColor3 = config.AccentColor or Color3.fromRGB(0, 180, 180)
			Button.BackgroundTransparency = 0.1
			Button.Text = config.Name
			Button.TextColor3 = Color3.fromRGB(255, 255, 255)
			Button.TextSize = 14
			Button.Font = Enum.Font.GothamBold
			Button.ZIndex = 3
			Button.Parent = ButtonFrame
			
			local BtnCorner = Instance.new("UICorner")
			BtnCorner.CornerRadius = UDim.new(0, 6)
			BtnCorner.Parent = Button
			
			local BtnGlow = Instance.new("UIStroke")
			BtnGlow.Color = Color3.fromRGB(255, 255, 255)
			BtnGlow.Transparency = 0.8
			BtnGlow.Thickness = 1
			BtnGlow.Parent = Button
			
			if config.Description then
				local Desc = Instance.new("TextLabel")
				Desc.Size = UDim2.new(1, -20, 0, 20)
				Desc.Position = UDim2.new(0, 10, 0, 45)
				Desc.BackgroundTransparency = 1
				Desc.Text = config.Description
				Desc.TextColor3 = Color3.fromRGB(100, 200, 200)
				Desc.TextSize = 11
				Desc.Font = Enum.Font.Gotham
				Desc.TextTransparency = 0.4
				Desc.TextXAlignment = Enum.TextXAlignment.Left
				Desc.ZIndex = 3
				Desc.Parent = ButtonFrame
			end
			
			Button.MouseButton1Click:Connect(function()
				-- Click animation
				TweenService:Create(Button, TweenInfo.new(0.1), {BackgroundTransparency = 0.3}):Play()
				wait(0.1)
				TweenService:Create(Button, TweenInfo.new(0.1), {BackgroundTransparency = 0.1}):Play()
				
				if config.Callback then
					config.Callback()
				end
			end)
			
			Button.MouseEnter:Connect(function()
				TweenService:Create(Button, TweenInfo.new(0.2), {BackgroundTransparency = 0}):Play()
				TweenService:Create(BtnGlow, TweenInfo.new(0.2), {Transparency = 0.5}):Play()
			end)
			
			Button.MouseLeave:Connect(function()
				TweenService:Create(Button, TweenInfo.new(0.2), {BackgroundTransparency = 0.1}):Play()
				TweenService:Create(BtnGlow, TweenInfo.new(0.2), {Transparency = 0.8}):Play()
			end)
			
			table.insert(Tab.Elements, ButtonFrame)
		end
		
		-- Add Toggle
		function Tab:AddToggle(config)
			local ToggleFrame = Instance.new("Frame")
			ToggleFrame.Size = UDim2.new(1, 0, 0, config.Description and 70 or 50)
			ToggleFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 35)
			ToggleFrame.BackgroundTransparency = 0.2
			ToggleFrame.BorderSizePixel = 0
			ToggleFrame.Visible = Window.CurrentTab == Tab
			ToggleFrame.ZIndex = 2
			ToggleFrame.Parent = ContentContainer
			
			local ToggleCorner = Instance.new("UICorner")
			ToggleCorner.CornerRadius = UDim.new(0, 8)
			ToggleCorner.Parent = ToggleFrame
			
			local ToggleStroke = Instance.new("UIStroke")
			ToggleStroke.Color = config.AccentColor or Color3.fromRGB(0, 255, 255)
			ToggleStroke.Transparency = 0.7
			ToggleStroke.Parent = ToggleFrame
			
			local Label = Instance.new("TextLabel")
			Label.Size = UDim2.new(1, -80, 0, 20)
			Label.Position = UDim2.new(0, 10, 0, 10)
			Label.BackgroundTransparency = 1
			Label.Text = config.Name
			Label.TextColor3 = Color3.fromRGB(200, 255, 255)
			Label.TextSize = 14
			Label.Font = Enum.Font.GothamSemibold
			Label.TextXAlignment = Enum.TextXAlignment.Left
			Label.ZIndex = 3
			Label.Parent = ToggleFrame
			
			if config.Description then
				local Desc = Instance.new("TextLabel")
				Desc.Size = UDim2.new(1, -80, 0, 20)
				Desc.Position = UDim2.new(0, 10, 0, 32)
				Desc.BackgroundTransparency = 1
				Desc.Text = config.Description
				Desc.TextColor3 = Color3.fromRGB(100, 200, 200)
				Desc.TextSize = 11
				Desc.Font = Enum.Font.Gotham
				Desc.TextTransparency = 0.4
				Desc.TextXAlignment = Enum.TextXAlignment.Left
				Desc.ZIndex = 3
				Desc.Parent = ToggleFrame
			end
			
			local ToggleButton = Instance.new("TextButton")
			ToggleButton.Size = UDim2.new(0, 50, 0, 24)
			ToggleButton.Position = UDim2.new(1, -60, 0, 10)
			ToggleButton.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
			ToggleButton.BackgroundTransparency = 0.2
			ToggleButton.Text = ""
			ToggleButton.ZIndex = 3
			ToggleButton.Parent = ToggleFrame
			
			local ToggleBtnCorner = Instance.new("UICorner")
			ToggleBtnCorner.CornerRadius = UDim.new(1, 0)
			ToggleBtnCorner.Parent = ToggleButton
			
			local ToggleIndicator = Instance.new("Frame")
			ToggleIndicator.Size = UDim2.new(0, 18, 0, 18)
			ToggleIndicator.Position = UDim2.new(0, 3, 0, 3)
			ToggleIndicator.BackgroundColor3 = Color3.fromRGB(200, 200, 200)
			ToggleIndicator.BackgroundTransparency = 0.1
			ToggleIndicator.BorderSizePixel = 0
			ToggleIndicator.ZIndex = 4
			ToggleIndicator.Parent = ToggleButton
			
			local IndicatorCorner = Instance.new("UICorner")
			IndicatorCorner.CornerRadius = UDim.new(1, 0)
			IndicatorCorner.Parent = ToggleIndicator
			
			local IndicatorGlow = Instance.new("UIStroke")
			IndicatorGlow.Color = Color3.fromRGB(255, 255, 255)
			IndicatorGlow.Transparency = 1
			IndicatorGlow.Thickness = 2
			IndicatorGlow.Parent = ToggleIndicator
			
			local toggled = config.Default or false
			
			local function UpdateToggle()
				if toggled then
					TweenService:Create(ToggleButton, TweenInfo.new(0.3, Enum.EasingStyle.Quad), {
						BackgroundColor3 = config.AccentColor or Color3.fromRGB(0, 200, 200),
						BackgroundTransparency = 0
					}):Play()
					TweenService:Create(ToggleIndicator, TweenInfo.new(0.3, Enum.EasingStyle.Back), {
						Position = UDim2.new(1, -21, 0, 3),
						BackgroundColor3 = Color3.fromRGB(255, 255, 255),
						BackgroundTransparency = 0
					}):Play()
					TweenService:Create(IndicatorGlow, TweenInfo.new(0.3), {Transparency = 0.5}):Play()
				else
					TweenService:Create(ToggleButton, TweenInfo.new(0.3, Enum.EasingStyle.Quad), {
						BackgroundColor3 = Color3.fromRGB(40, 40, 60),
						BackgroundTransparency = 0.2
					}):Play()
					TweenService:Create(ToggleIndicator, TweenInfo.new(0.3, Enum.EasingStyle.Back), {
						Position = UDim2.new(0, 3, 0, 3),
						BackgroundColor3 = Color3.fromRGB(200, 200, 200),
						BackgroundTransparency = 0.1
					}):Play()
					TweenService:Create(IndicatorGlow, TweenInfo.new(0.3), {Transparency = 1}):Play()
				end
				
				if config.Callback then
					config.Callback(toggled)
				end
			end
			
			UpdateToggle()
			
			ToggleButton.MouseButton1Click:Connect(function()
				toggled = not toggled
				UpdateToggle()
			end)
			
			table.insert(Tab.Elements, ToggleFrame)
		end
		
		-- Add Slider
		function Tab:AddSlider(config)
			local SliderFrame = Instance.new("Frame")
			SliderFrame.Size = UDim2.new(1, 0, 0, config.Description and 80 or 65)
			SliderFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 35)
			SliderFrame.BackgroundTransparency = 0.2
			SliderFrame.BorderSizePixel = 0
			SliderFrame.Visible = Window.CurrentTab == Tab
			SliderFrame.ZIndex = 2
			SliderFrame.Parent = ContentContainer
			
			local SliderCorner = Instance.new("UICorner")
			SliderCorner.CornerRadius = UDim.new(0, 8)
			SliderCorner.Parent = SliderFrame
			
			local SliderStroke = Instance.new("UIStroke")
			SliderStroke.Color = config.AccentColor or Color3.fromRGB(0, 255, 255)
			SliderStroke.Transparency = 0.7
			SliderStroke.Parent = SliderFrame
			
			local Label = Instance.new("TextLabel")
			Label.Size = UDim2.new(0.7, 0, 0, 20)
			Label.Position = UDim2.new(0, 10, 0, 10)
			Label.BackgroundTransparency = 1
			Label.Text = config.Name
			Label.TextColor3 = Color3.fromRGB(200, 255, 255)
			Label.TextSize = 14
			Label.Font = Enum.Font.GothamSemibold
			Label.TextXAlignment = Enum.TextXAlignment.Left
			Label.ZIndex = 3
			Label.Parent = SliderFrame
			
			local ValueLabel = Instance.new("TextLabel")
			ValueLabel.Size = UDim2.new(0.3, -10, 0, 20)
			ValueLabel.Position = UDim2.new(0.7, 0, 0, 10)
			ValueLabel.BackgroundTransparency = 1
			ValueLabel.Text = tostring(config.Default or config.Min)
			ValueLabel.TextColor3 = config.AccentColor or Color3.fromRGB(0, 255, 255)
			ValueLabel.TextSize = 13
			ValueLabel.Font = Enum.Font.GothamBold
			ValueLabel.TextXAlignment = Enum.TextXAlignment.Right
			ValueLabel.ZIndex = 3
			ValueLabel.Parent = SliderFrame
			
			if config.Description then
				local Desc = Instance.new("TextLabel")
				Desc.Size = UDim2.new(1, -20, 0, 15)
				Desc.Position = UDim2.new(0, 10, 0, 32)
				Desc.BackgroundTransparency = 1
				Desc.Text = config.Description
				Desc.TextColor3 = Color3.fromRGB(100, 200, 200)
				Desc.TextSize = 11
				Desc.Font = Enum.Font.Gotham
				Desc.TextTransparency = 0.4
				Desc.TextXAlignment = Enum.TextXAlignment.Left
				Desc.ZIndex = 3
				Desc.Parent = SliderFrame
			end
			
			local SliderBack = Instance.new("Frame")
			SliderBack.Size = UDim2.new(1, -20, 0, 6)
			SliderBack.Position = UDim2.new(0, 10, 1, -18)
			SliderBack.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
			SliderBack.BackgroundTransparency = 0.3
			SliderBack.BorderSizePixel = 0
			SliderBack.ZIndex = 3
			SliderBack.Parent = SliderFrame
			
			local SliderBackCorner = Instance.new("UICorner")
			SliderBackCorner.CornerRadius = UDim.new(1, 0)
			SliderBackCorner.Parent = SliderBack
			
			local SliderFill = Instance.new("Frame")
			SliderFill.Size = UDim2.new(0, 0, 1, 0)
			SliderFill.BackgroundColor3 = config.AccentColor or Color3.fromRGB(0, 200, 200)
			SliderFill.BackgroundTransparency = 0.1
			SliderFill.BorderSizePixel = 0
			SliderFill.ZIndex = 4
			SliderFill.Parent = SliderBack
			
			local SliderFillCorner = Instance.new("UICorner")
			SliderFillCorner.CornerRadius = UDim.new(1, 0)
			SliderFillCorner.Parent = SliderFill
			
			local SliderFillGlow = Instance.new("UIStroke")
			SliderFillGlow.Color = Color3.fromRGB(255, 255, 255)
			SliderFillGlow.Transparency = 0.7
			SliderFillGlow.Thickness = 1
			SliderFillGlow.Parent = SliderFill
			
			local SliderButton = Instance.new("TextButton")
			SliderButton.Size = UDim2.new(1, 0, 1, 0)
			SliderButton.BackgroundTransparency = 1
			SliderButton.Text = ""
			SliderButton.ZIndex = 5
			SliderButton.Parent = SliderBack
			
			local dragging = false
			local min = config.Min or 0
			local max = config.Max or 100
			local value = config.Default or min
			
			local function UpdateSlider(input)
				local sizeX = SliderBack.AbsoluteSize.X
				local posX = math.clamp((input.Position.X - SliderBack.AbsolutePosition.X) / sizeX, 0, 1)
				value = math.floor(min + (max - min) * posX)
				
				ValueLabel.Text = tostring(value)
				TweenService:Create(SliderFill, TweenInfo.new(0.1), {Size = UDim2.new(posX, 0, 1, 0)}):Play()
				
				if config.Callback then
					config.Callback(value)
				end
			end
			
			SliderButton.MouseButton1Down:Connect(function()
				dragging = true
			end)
			
			UserInputService.InputEnded:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 then
					dragging = false
				end
			end)
			
			UserInputService.InputChanged:Connect(function(input)
				if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
					UpdateSlider(input)
				end
			end)
			
			-- Set initial value
			local initialPercent = (value - min) / (max - min)
			SliderFill.Size = UDim2.new(initialPercent, 0, 1, 0)
			
			table.insert(Tab.Elements, SliderFrame)
		end
		
		return Tab
	end
	
	return Window
end

-- Notifications with enhanced effects
function CyberUI:Notify(config)
	local NotifGui = Instance.new("ScreenGui")
	NotifGui.Name = "CyberNotification"
	NotifGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	NotifGui.Parent = game.CoreGui
	
	local Notif = Instance.new("Frame")
	Notif.Size = UDim2.new(0, 320, 0, 90)
	Notif.Position = UDim2.new(1, 340, 0, 20)
	Notif.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
	Notif.BackgroundTransparency = 0.1
	Notif.BorderSizePixel = 0
	Notif.Parent = NotifGui
	
	local NotifCorner = Instance.new("UICorner")
	NotifCorner.CornerRadius = UDim.new(0, 10)
	NotifCorner.Parent = Notif
	
	local NotifStroke = Instance.new("UIStroke")
	NotifStroke.Color = config.AccentColor or Color3.fromRGB(0, 255, 255)
	NotifStroke.Thickness = 2
	NotifStroke.Transparency = 0.3
	NotifStroke.Parent = Notif
	
	-- Glow effect
	local NotifGlow = Instance.new("ImageLabel")
	NotifGlow.BackgroundTransparency = 1
	NotifGlow.Position = UDim2.new(0, -15, 0, -15)
	NotifGlow.Size = UDim2.new(1, 30, 1, 30)
	NotifGlow.ZIndex = 0
	NotifGlow.Image = "rbxasset://textures/ui/GuiImagePlaceholder.png"
	NotifGlow.ImageColor3 = config.AccentColor or Color3.fromRGB(0, 255, 255)
	NotifGlow.ImageTransparency = 0.8
	NotifGlow.Parent = Notif
	
	local Accent = Instance.new("Frame")
	Accent.Size = UDim2.new(0, 4, 1, 0)
	Accent.BackgroundColor3 = config.AccentColor or Color3.fromRGB(0, 255, 255)
	Accent.BackgroundTransparency = 0.2
	Accent.BorderSizePixel = 0
	Accent.Parent = Notif
	
	local AccentCorner = Instance.new("UICorner")
	AccentCorner.CornerRadius = UDim.new(0, 10)
	AccentCorner.Parent = Accent
	
	local Title = Instance.new("TextLabel")
	Title.Size = UDim2.new(1, -25, 0, 28)
	Title.Position = UDim2.new(0, 18, 0, 12)
	Title.BackgroundTransparency = 1
	Title.Text = config.Title or "Notification"
	Title.TextColor3 = config.AccentColor or Color3.fromRGB(0, 255, 255)
	Title.TextSize = 16
	Title.Font = Enum.Font.GothamBold
	Title.TextXAlignment = Enum.TextXAlignment.Left
	Title.TextStrokeTransparency = 0.9
	Title.Parent = Notif
	
	local Desc = Instance.new("TextLabel")
	Desc.Size = UDim2.new(1, -25, 0, 40)
	Desc.Position = UDim2.new(0, 18, 0, 40)
	Desc.BackgroundTransparency = 1
	Desc.Text = config.Description or ""
	Desc.TextColor3 = Color3.fromRGB(180, 220, 220)
	Desc.TextSize = 13
	Desc.Font = Enum.Font.Gotham
	Desc.TextWrapped = true
	Desc.TextXAlignment = Enum.TextXAlignment.Left
	Desc.TextYAlignment = Enum.TextYAlignment.Top
	Desc.Parent = Notif
	
	-- Animate in with motion blur effect
	Notif:TweenPosition(UDim2.new(1, -340, 0, 20), Enum.EasingDirection.Out, Enum.EasingStyle.Back, 0.6, true)
	
	-- Pulsing glow animation
	spawn(function()
		while Notif.Parent do
			TweenService:Create(NotifStroke, TweenInfo.new(1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {
				Transparency = 0.7
			}):Play()
			wait()
		end
	end)
	
	-- Wait and animate out
	wait(config.Duration and config.Duration / 1000 or 4)
	Notif:TweenPosition(UDim2.new(1, 340, 0, 20), Enum.EasingDirection.In, Enum.EasingStyle.Back, 0.4, true)
	
	wait(0.4)
	NotifGui:Destroy()
end

return CyberUI
